var modallink=document.querySelector(".address-block__button"),modalwindow=document.querySelector(".modal-feedback"),modalclose=document.querySelector(".modal-feedback__close-button"),modalname=modalwindow.querySelector("[name=feedback-name]"),modalemail=modalwindow.querySelector("[name=feedback-email]"),modaltext=modalwindow.querySelector("[name=feedback-text]"),modalform=modalwindow.querySelector("form"),storagemodalemail=localStorage.getItem("feedback-email"),storagemodalname=localStorage.getItem("feedback-name"),textlabel=modalwindow.querySelector(".textarea-placeholder"),modallabelname=modalwindow.querySelector(".modal__label_name"),modallabelmail=modalwindow.querySelector(".modal__label_mail");modallink.addEventListener("click",function(e){e.preventDefault(),modalwindow.classList.toggle("modal-open"),storagemodalname&&storagemodalemail?(modalname.value=storagemodalname,modalemail.value=storagemodalemail):modalname.focus()}),modalclose.addEventListener("click",function(e){e.preventDefault(),modalwindow.classList.remove("modal-open"),modalwindow.classList.remove("modal-error")}),modalform.addEventListener("submit",function(e){modalname.value&&modalemail.value&&modaltext.value?(localStorage.setItem("feedback-name",modalname.value),localStorage.setItem("feedback-email",modalemail.value)):(e.preventDefault(),modalwindow.classList.remove("modal-error"),modalwindow.offsetWidth=modalwindow.offsetWidth,modalwindow.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalwindow.classList.contains("modal-open")&&modalwindow.classList.remove("modal-open")}),modaltext.addEventListener("blur",function(){modaltext.value?textlabel.classList.add("textarea-placeholder_active"):textlabel.classList.remove("textarea-placeholder_active")}),modalname.addEventListener("blur",function(){modalname.value?modallabelname.classList.add("text-input_active"):modallabelname.classList.remove("text-input_active")}),modalemail.addEventListener("blur",function(){modalemail.value?modallabelmail.classList.add("text-input_active"):modallabelmail.classList.remove("text-input_active")});